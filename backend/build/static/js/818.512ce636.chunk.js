"use strict";(self.webpackChunkjet_fighters_online_2_0=self.webpackChunkjet_fighters_online_2_0||[]).push([[818],{6818:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var s=t(885),a=t(7264),o=t(1413),r=t(2791),i=t(6871),b=t(8592),c=t(3232),u=t(2142),d=function(){var e=(0,b.m)(),n=(0,s.Z)(e,2),t=n[0],d=n[1],l=(0,c.v)(),y=(0,s.Z)(l,1)[0],_=(0,a.js)(),p=(0,s.Z)(_,2),f=p[0],m=p[1],Z=(0,u.J)(),j=Z.message,w=Z.sendMessage,L=Z.resetMessage,v=(0,i.s0)(),h=t.stateApp,x=t.isOwnerLobby,g=f.idLobby,N=f.isReadyOwner,J=f.isReadyJoiner,O=j.event,R=j.success,T="lobby"===h;(0,r.useLayoutEffect)((function(){if(T&&"updateLobby"===O&&(m(j.lobby),L()),T&&R&&"join"===O){console.log("EVENT: join");var e=j.idLobby,n=j.nameOwner,t=j.nameJoiner;m((function(s){var a=(0,o.Z)((0,o.Z)({},s),{},{idLobby:e,nameOwner:n,nameJoiner:t,isConnectedJoiner:!0});return w({event:"updateLobby",lobby:a}),a})),L()}if(T&&"quitJoiner"===O&&(console.log("EVENT: quitJoiner"),m((function(e){return(0,o.Z)((0,o.Z)({},e),{},{nameJoiner:"Empty...",isConnectedJoiner:!1,isReadyJoiner:!1,winsOwner:0,winsJoiner:0})})),d((function(e){return(0,o.Z)((0,o.Z)({},e),{},{msgPopup:"".concat(f.nameJoiner," has quit/disconnected.")})})),L()),T&&"quitOwner"===O&&(console.log("EVENT: quitOwner"),d((function(e){return(0,o.Z)((0,o.Z)({},e),{},{stateApp:"preLobby",msgPopup:"".concat(f.nameOwner," has quit/disconnected.")})})),m((0,o.Z)({},a._k)),L(),v("/")),T&&"requestReady"===O&&(console.log("EVENT: requestReady"),w({event:"responseReady",isReady:N&&J,idLobby:g,settings:y,isOwnerLobby:x}),L()),T&&"start"===O){console.log("EVENT: start");var s=j.stateGame;d((function(e){return(0,o.Z)((0,o.Z)({},e),{},{stateApp:"countdown"})})),L(),v("/game",{state:s})}}),[j])},l=function(){var e=(0,b.m)(),n=(0,s.Z)(e,1)[0],t=(0,a.js)(),i=(0,s.Z)(t,2)[1],c=(0,u.J)().sendMessage,d=n.stateApp,l=n.isOwnerLobby,y="lobby"===d;(0,r.useEffect)((function(){return l&&y?function(){i((function(e){var n=(0,o.Z)((0,o.Z)({},e),{},{isReadyOwner:!1});return c({event:"updateLobby",lobby:(0,o.Z)({},n)}),n}))}:y?function(){i((function(e){var n=(0,o.Z)((0,o.Z)({},e),{},{isReadyJoiner:!1});return c({event:"updateLobby",lobby:(0,o.Z)({},n)}),n}))}:void 0}),[l,y,c,i,d])},y="IdLobby_wrapper__oEiPm",_="IdLobby_title__AW2Ek",p="IdLobby_btn__M2GeD",f=t(184),m=function(e){var n=e.idLobby,t=(0,r.useState)(),a=(0,s.Z)(t,2),o=a[0],i=a[1];return(0,f.jsx)("div",{className:y,children:(0,f.jsxs)("h2",{className:_,children:["Lobby ID:"," ",(0,f.jsxs)("button",{onClick:o?null:function(){navigator.clipboard.writeText(n),i(!0),setTimeout((function(){i(!1)}),1500)},className:p,type:"button",children:[o&&"Copied",!o&&n]})]})})},Z="TablePlayers_table__5Fd5v",j="TablePlayers_textLight__DYaY7",w="TablePlayers_name__um6bH",L="TablePlayers_score__3sNWy",v="TablePlayers_ready__GQdXY",h="TablePlayers_bgGreen__qa7hN",x="TablePlayers_bgRed__zHupN",g="TablePlayers_textGreen__ZcIDI",N="TablePlayers_textRed__cAZPI",J=function(e){return e?"".concat(w," ").concat(g):"".concat(w," ").concat(N)},O=function(e){return e?"".concat(v," ").concat(h):"".concat(v," ").concat(x)},R=function(){var e=(0,a.js)(),n=(0,s.Z)(e,1)[0],t=n.isConnectedOwner,o=n.nameOwner,r=n.winsOwner,i=n.isReadyOwner,b=n.isConnectedJoiner,c=n.nameJoiner,u=n.isReadyJoiner,d=n.winsJoiner;return(0,f.jsx)("table",{className:Z,children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:J(t),children:[o,(0,f.jsx)("span",{className:j,children:" (owner)"})]}),(0,f.jsx)("td",{className:L,children:r}),(0,f.jsx)("td",{className:O(i),children:"ready"})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:J(b),children:c}),(0,f.jsx)("td",{className:L,children:d}),(0,f.jsx)("td",{className:O(u),children:"ready"})]})]})})},T="BtnReady_btn__NWDIM",A=function(){var e=(0,b.m)(),n=(0,s.Z)(e,1)[0],t=(0,a.js)(),r=(0,s.Z)(t,1)[0],i=(0,u.J)().sendMessage,c=n.stateApp,d=n.isOwnerLobby,l=r.isReadyOwner,y=r.isReadyJoiner,_="lobby"===c;return(0,f.jsx)("button",{disabled:!_,onClick:d&&_?function(){i({event:"updateLobby",lobby:(0,o.Z)((0,o.Z)({},r),{},{isReadyOwner:!l})})}:_?function(){return i({event:"updateLobby",lobby:(0,o.Z)((0,o.Z)({},r),{},{isReadyJoiner:!y})})}:function(){return console.log("updateLobby denial because needed stateApp=lobby but currently stateApp=".concat(c))},className:T,type:"button",children:"I'm ready"})},E="BtnStart_btn__uN2Df",P=function(){var e=(0,b.m)(),n=(0,s.Z)(e,1)[0],t=(0,a.js)(),o=(0,s.Z)(t,1)[0],r=n.stateApp,i=o.isReadyOwner,c=o.isReadyJoiner,u="lobby"===r,d=i&&c;return(0,f.jsx)("input",{disabled:!u||!d,className:E,type:"submit",value:"START",form:"form-settings-game"})},q="BtnQuit_btn__DofXD",k=function(){var e=(0,i.s0)(),n=(0,b.m)(),t=(0,s.Z)(n,2),r=t[0],c=t[1],d=(0,a.js)(),l=(0,s.Z)(d,2),y=l[0],_=l[1],p=(0,u.J)().sendMessage,m=r.stateApp,Z=r.isOwnerLobby,j=y.idLobby,w="lobby"===m;return(0,f.jsx)("button",{disabled:!w,onClick:w?function(){p({event:"quitLobby",idLobby:j,isOwnerLobby:Z}),c((function(e){return(0,o.Z)((0,o.Z)({},e),{},{stateApp:"preLobby"})})),_((0,o.Z)({},a._k)),e("/")}:function(){return console.log("quit denial because needed stateApp=lobby but currently stateApp=".concat(m))},className:q,type:"button",children:"Quit lobby"})},C="Lobby_wrapper__uf7hD",D=function(){d(),l();var e=(0,a.js)(),n=(0,s.Z)(e,1)[0].idLobby;return(0,f.jsxs)("div",{className:C,children:[(0,f.jsx)(m,{idLobby:n}),(0,f.jsx)(R,{}),(0,f.jsx)(k,{}),(0,f.jsx)(A,{}),(0,f.jsx)(P,{})]})}}}]);
//# sourceMappingURL=818.512ce636.chunk.js.map