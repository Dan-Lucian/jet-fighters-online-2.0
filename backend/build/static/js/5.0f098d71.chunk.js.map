{"version":3,"file":"static/js/5.0f098d71.chunk.js","mappings":"qKACA,MAAsB,uB,SCiBtB,EARkB,SAAC,GAAD,IAAGA,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAb,OAChB,mBAAQD,SAAUA,EAAUE,KAAK,SAASC,UAAWC,EAArD,SACGH,M,qDCXL,MAAuB,uB,SCiBvB,EARiB,SAAC,GAAD,IAAGI,EAAH,EAAGA,SAAUJ,EAAb,EAAaA,SAAb,OACf,iBAAMI,SAAUA,EAAUF,UAAWC,EAArC,SACGH,M,qDCXL,OAAgB,QAAU,2BAA2B,MAAQ,yBAAyB,aAAe,gCAAgC,UAAY,8B,SCkCjJ,EArBkB,SAAC,GAAD,IAAGK,EAAH,EAAGA,GAAIJ,EAAP,EAAOA,KAAMK,EAAb,EAAaA,MAAOC,EAApB,EAAoBA,UAAWC,EAA/B,EAA+BA,QAASC,EAAxC,EAAwCA,KAAxC,OAChB,iBAAKP,UAAWC,EAAAA,QAAhB,WACE,kBAAOD,UAAWC,EAAAA,MAAcO,QAASL,EAAzC,SACGC,KAEH,iBAAKJ,UAAWC,EAAAA,aAAhB,WACE,kBACEQ,UAAQ,EACRH,QAASA,EACTN,UAAWC,EAAAA,MACXE,GAAIA,EACJJ,KAAMA,EACNQ,KAAMA,KAER,cAAGP,UAAWC,EAAAA,UAAd,SAAiCI,Y,mLC3BvC,EAA0B,2BAA1B,EAA+D,2BAA/D,EAAyG,gCAAzG,EAAgJ,wB,SCyEhJ,EA1DkB,WAChB,IAAMK,GAAWC,EAAAA,EAAAA,MACjB,GAA2CC,EAAAA,EAAAA,KAAnCC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,MAAOC,EAAxB,EAAwBA,QAASC,EAAjC,EAAiCA,MACjC,GAAyCC,EAAAA,EAAAA,KAAzC,eAASC,EAAT,KAASA,gBAAmBC,EAA5B,MAEAC,EAAAA,EAAAA,kBAAgB,WACVP,GAASH,EAASQ,GAAe,mBAAgBL,EAAQQ,aAC5D,CAACR,EAASH,KAEbY,EAAAA,EAAAA,YAAU,WACJN,GACFG,GAAU,SAACI,GAAD,eAAC,UACNA,GADK,IAERC,SAAQ,OAAER,QAAF,IAAEA,OAAF,EAAEA,EAAOS,SAASC,KAAKC,eAElC,CAACX,EAAOG,IAcX,OAAIJ,GAAgB,SAACa,EAAA,EAAD,KAGlB,kBAAM5B,UAAWC,EAAjB,WACE,eAAID,UAAWC,EAAf,oBACA,UAAC4B,EAAA,EAAD,CAAU3B,SAjBO,SAAC4B,GACpBA,EAAMC,iBAEN,IAAMC,EAAe,IAAIC,SAASH,EAAMI,QAClCC,EAAc,CAClBC,MAAOJ,EAAaK,IAAI,SACxBC,SAAUN,EAAaK,IAAI,aAG7BvB,EAAMqB,IAQJ,WACE,SAACI,EAAA,EAAD,CAAWpC,GAAG,QAAQC,MAAM,QAAQL,KAAK,QAAQQ,KAAK,WACtD,SAACgC,EAAA,EAAD,CACEpC,GAAG,WACHC,MAAM,WACNL,KAAK,WACLM,UAAU,oBACVC,QAAQ,YACRC,KAAK,cAEP,iBAAKP,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAMuC,GAAG,YAAYxC,UAAWC,EAAhC,uBAGA,SAAC,KAAD,CAAMuC,GAAG,mBAAmBxC,UAAWC,EAAvC,iCAIF,SAACwC,EAAA,EAAD","sources":["webpack://jet-fighters-online-2.0/./src/components/BtnSubmit/BtnSubmit.module.scss?cd36","components/BtnSubmit/BtnSubmit.js","webpack://jet-fighters-online-2.0/./src/components/FormAuth/FormAuth.module.scss?7b28","components/FormAuth/FormAuth.js","webpack://jet-fighters-online-2.0/./src/components/InputAuth/InputAuth.module.scss?c27a","components/InputAuth/InputAuth.js","webpack://jet-fighters-online-2.0/./src/routes/login/PageLogin.module.scss?b41f","routes/login/PageLogin.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"BtnSubmit_btn__2PgWn\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './BtnSubmit.module.scss';\r\n\r\nconst propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nconst BtnSubmit = ({ disabled, children }) => (\r\n  <button disabled={disabled} type=\"submit\" className={styles.btn}>\r\n    {children}\r\n  </button>\r\n);\r\n\r\nBtnSubmit.propTypes = propTypes;\r\n\r\nexport default BtnSubmit;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"FormAuth_form__i56jP\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './FormAuth.module.scss';\r\n\r\nconst propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nconst FormAuth = ({ onSubmit, children }) => (\r\n  <form onSubmit={onSubmit} className={styles.form}>\r\n    {children}\r\n  </form>\r\n);\r\n\r\nFormAuth.propTypes = propTypes;\r\n\r\nexport default FormAuth;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"InputAuth_wrapper__FmqAX\",\"input\":\"InputAuth_input__IQuwe\",\"wrapperInner\":\"InputAuth_wrapperInner__33pRr\",\"undertext\":\"InputAuth_undertext__hqxPV\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './InputAuth.module.scss';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  pattern: PropTypes.string,\r\n  undertext: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nconst InputAuth = ({ id, type, label, undertext, pattern, name }) => (\r\n  <div className={styles.wrapper}>\r\n    <label className={styles.label} htmlFor={id}>\r\n      {label}\r\n    </label>\r\n    <div className={styles.wrapperInner}>\r\n      <input\r\n        required\r\n        pattern={pattern}\r\n        className={styles.input}\r\n        id={id}\r\n        type={type}\r\n        name={name}\r\n      />\r\n      <p className={styles.undertext}>{undertext}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nInputAuth.propTypes = propTypes;\r\n\r\nexport default InputAuth;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PageLogin_wrapper__l2ytW\",\"heading\":\"PageLogin_heading__ApWj0\",\"wrapperLinks\":\"PageLogin_wrapperLinks__ddwqB\",\"link\":\"PageLogin_link__hdSqy\"};","import { useEffect, useLayoutEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\n// shared hooks\r\nimport { useContextAuth } from '../../providers/ProviderAuth';\r\nimport { useContextGlobal } from '../../providers/ProviderGlobal';\r\n\r\n// shared components\r\nimport FormAuth from '../../components/FormAuth/FormAuth';\r\nimport InputAuth from '../../components/InputAuth/InputAuth';\r\nimport BtnSubmit from '../../components/BtnSubmit/BtnSubmit';\r\nimport Loader from '../../components/Loader/Loader';\r\n\r\n// styles\r\nimport styles from './PageLogin.module.scss';\r\n\r\nconst PageLogin = () => {\r\n  const navigate = useNavigate();\r\n  const { account, login, loading, error } = useContextAuth();\r\n  const [{ pathBeforeLogin }, setGlobal] = useContextGlobal();\r\n\r\n  useLayoutEffect(() => {\r\n    if (account) navigate(pathBeforeLogin || `/profile/${account.userName}`);\r\n  }, [account, navigate]);\r\n\r\n  useEffect(() => {\r\n    if (error)\r\n      setGlobal((prev) => ({\r\n        ...prev,\r\n        msgPopup: error?.response.data.message,\r\n      }));\r\n  }, [error, setGlobal]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const dataFromForm = new FormData(event.target);\r\n    const credentials = {\r\n      email: dataFromForm.get('email'),\r\n      password: dataFromForm.get('password'),\r\n    };\r\n\r\n    login(credentials);\r\n  };\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  return (\r\n    <main className={styles.wrapper}>\r\n      <h1 className={styles.heading}>Login</h1>\r\n      <FormAuth onSubmit={handleSubmit}>\r\n        <InputAuth id=\"email\" label=\"Email\" type=\"email\" name=\"email\" />\r\n        <InputAuth\r\n          id=\"password\"\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          undertext=\"* 8-25 characters\"\r\n          pattern=\"^.{8,25}$\"\r\n          name=\"password\"\r\n        />\r\n        <div className={styles.wrapperLinks}>\r\n          <Link to=\"/register\" className={styles.link}>\r\n            Register\r\n          </Link>\r\n          <Link to=\"/forgot-password\" className={styles.link}>\r\n            Forgot password\r\n          </Link>\r\n        </div>\r\n        <BtnSubmit>Login</BtnSubmit>\r\n      </FormAuth>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default PageLogin;\r\n"],"names":["disabled","children","type","className","styles","onSubmit","id","label","undertext","pattern","name","htmlFor","required","navigate","useNavigate","useContextAuth","account","login","loading","error","useContextGlobal","pathBeforeLogin","setGlobal","useLayoutEffect","userName","useEffect","prev","msgPopup","response","data","message","Loader","FormAuth","event","preventDefault","dataFromForm","FormData","target","credentials","email","get","password","InputAuth","to","BtnSubmit"],"sourceRoot":""}