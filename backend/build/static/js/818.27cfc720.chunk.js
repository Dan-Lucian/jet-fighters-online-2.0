"use strict";(self.webpackChunkjet_fighters_online_2_0=self.webpackChunkjet_fighters_online_2_0||[]).push([[818],{818:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var s=t(152),o=t(264),a=t(683),r=t(791),i=t(871),b=t(592),c=t(232),u=t(142),d="IdLobby_wrapper__oEiPm",l="IdLobby_title__AW2Ek",y="IdLobby_btn__M2GeD",_=t(184),p=function(e){var n=e.idLobby,t=(0,r.useState)(),o=(0,s.Z)(t,2),a=o[0],i=o[1];return(0,_.jsx)("div",{className:d,children:(0,_.jsxs)("h2",{className:l,children:["Lobby ID:"," ",(0,_.jsxs)("button",{onClick:a?null:function(){navigator.clipboard.writeText(n),i(!0),setTimeout((function(){i(!1)}),1500)},className:y,type:"button",children:[a&&"Copied",!a&&n]})]})})},f="TablePlayers_table__5Fd5v",m="TablePlayers_textLight__DYaY7",Z="TablePlayers_name__um6bH",j="TablePlayers_score__3sNWy",w="TablePlayers_ready__GQdXY",L="TablePlayers_bgGreen__qa7hN",v="TablePlayers_bgRed__zHupN",h="TablePlayers_textGreen__ZcIDI",x="TablePlayers_textRed__cAZPI",g=function(e){return e?"".concat(Z," ").concat(h):"".concat(Z," ").concat(x)},N=function(e){return e?"".concat(w," ").concat(L):"".concat(w," ").concat(v)},J=function(){var e=(0,o.js)(),n=(0,s.Z)(e,1)[0],t=n.isConnectedOwner,a=n.nameOwner,r=n.winsOwner,i=n.isReadyOwner,b=n.isConnectedJoiner,c=n.nameJoiner,u=n.isReadyJoiner,d=n.winsJoiner;return(0,_.jsx)("table",{className:f,children:(0,_.jsxs)("tbody",{children:[(0,_.jsxs)("tr",{children:[(0,_.jsxs)("td",{className:g(t),children:[a,(0,_.jsx)("span",{className:m,children:" (owner)"})]}),(0,_.jsx)("td",{className:j,children:r}),(0,_.jsx)("td",{className:N(i),children:"ready"})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{className:g(b),children:c}),(0,_.jsx)("td",{className:j,children:d}),(0,_.jsx)("td",{className:N(u),children:"ready"})]})]})})},O="BtnReady_btn__NWDIM",R=function(){var e=(0,b.m)(),n=(0,s.Z)(e,1)[0],t=(0,o.js)(),r=(0,s.Z)(t,1)[0],i=(0,u.J)().sendMessage,c=n.stateApp,d=n.isOwnerLobby,l=r.isReadyOwner,y=r.isReadyJoiner,p="lobby"===c;return(0,_.jsx)("button",{disabled:!p,onClick:d&&p?function(){i({event:"updateLobby",lobby:(0,a.Z)((0,a.Z)({},r),{},{isReadyOwner:!l})})}:p?function(){return i({event:"updateLobby",lobby:(0,a.Z)((0,a.Z)({},r),{},{isReadyJoiner:!y})})}:function(){return console.log("updateLobby denial because needed stateApp=lobby but currently stateApp=".concat(c))},className:O,type:"button",children:"I'm ready"})},T="BtnStart_btn__uN2Df",E=function(){var e=(0,b.m)(),n=(0,s.Z)(e,1)[0],t=(0,o.js)(),a=(0,s.Z)(t,1)[0],r=n.stateApp,i=a.isReadyOwner,c=a.isReadyJoiner,u="lobby"===r,d=i&&c;return(0,_.jsx)("input",{disabled:!u||!d,className:T,type:"submit",value:"START",form:"form-settings-game"})},A="BtnQuit_btn__DofXD",P=function(){var e=(0,i.s0)(),n=(0,b.m)(),t=(0,s.Z)(n,2),r=t[0],c=t[1],d=(0,o.js)(),l=(0,s.Z)(d,2),y=l[0],p=l[1],f=(0,u.J)().sendMessage,m=r.stateApp,Z=r.isOwnerLobby,j=y.idLobby,w="lobby"===m;return(0,_.jsx)("button",{disabled:!w,onClick:w?function(){f({event:"quitLobby",idLobby:j,isOwnerLobby:Z}),c((function(e){return(0,a.Z)((0,a.Z)({},e),{},{stateApp:"preLobby"})})),p((0,a.Z)({},o._k)),e("/")}:function(){return console.log("quit denial because needed stateApp=lobby but currently stateApp=".concat(m))},className:A,type:"button",children:"Quit lobby"})},q="Lobby_wrapper__uf7hD",k=function(){!function(){var e=(0,b.m)(),n=(0,s.Z)(e,2),t=n[0],d=n[1],l=(0,c.v)(),y=(0,s.Z)(l,1)[0],_=(0,o.js)(),p=(0,s.Z)(_,2),f=p[0],m=p[1],Z=(0,u.J)(),j=Z.message,w=Z.sendMessage,L=Z.resetMessage,v=(0,i.s0)(),h=t.stateApp,x=t.isOwnerLobby,g=f.idLobby,N=f.isReadyOwner,J=f.isReadyJoiner,O=j.event,R=j.success,T="lobby"===h;(0,r.useEffect)((function(){if(T&&"updateLobby"===O&&(console.log("EVENT: updateLobby"),m(j.lobby),L()),T&&R&&"join"===O){console.log("EVENT: join");var e=j.idLobby,n=j.nameOwner,t=j.nameJoiner;m((function(s){var o=(0,a.Z)((0,a.Z)({},s),{},{idLobby:e,nameOwner:n,nameJoiner:t,isConnectedJoiner:!0});return w({event:"updateLobby",lobby:o}),o})),L()}if(T&&"quitJoiner"===O&&(console.log("EVENT: quitJoiner"),m((function(e){return(0,a.Z)((0,a.Z)({},e),{},{nameJoiner:"Empty...",isConnectedJoiner:!1,isReadyJoiner:!1,winsOwner:0,winsJoiner:0})})),d((function(e){return(0,a.Z)((0,a.Z)({},e),{},{msgPopup:"".concat(f.nameJoiner," has quit/disconnected.")})})),L()),T&&"quitOwner"===O&&(console.log("EVENT: quitOwner"),d((function(e){return(0,a.Z)((0,a.Z)({},e),{},{stateApp:"preLobby",msgPopup:"".concat(f.nameOwner," has quit/disconnected.")})})),m((0,a.Z)({},o._k)),L(),v("/")),T&&"requestReady"===O&&(console.log("EVENT: requestReady"),w({event:"responseReady",isReady:N&&J,idLobby:g,settings:y,isOwnerLobby:x}),L()),T&&"start"===O){console.log("EVENT: start");var s=j.stateGame;d((function(e){return(0,a.Z)((0,a.Z)({},e),{},{stateApp:"countdown"})})),L(),v("/game",{state:s})}}),[j])}(),function(){var e=(0,b.m)(),n=(0,s.Z)(e,1)[0],t=(0,o.js)(),i=(0,s.Z)(t,2)[1],c=(0,u.J)().sendMessage,d=n.stateApp,l=n.isOwnerLobby,y="lobby"===d;(0,r.useEffect)((function(){return l&&y?function(){i((function(e){var n=(0,a.Z)((0,a.Z)({},e),{},{isReadyOwner:!1});return c({event:"updateLobby",lobby:(0,a.Z)({},n)}),n}))}:y?function(){i((function(e){var n=(0,a.Z)((0,a.Z)({},e),{},{isReadyJoiner:!1});return c({event:"updateLobby",lobby:(0,a.Z)({},n)}),n}))}:void 0}),[l,y,c,i,d])}();var e=(0,o.js)(),n=(0,s.Z)(e,1)[0].idLobby;return(0,_.jsxs)("div",{className:q,children:[(0,_.jsx)(p,{idLobby:n}),(0,_.jsx)(J,{}),(0,_.jsx)(P,{}),(0,_.jsx)(R,{}),(0,_.jsx)(E,{})]})}}}]);
//# sourceMappingURL=818.27cfc720.chunk.js.map