{"version":3,"file":"static/js/130.9f1aa307.chunk.js","mappings":"qMACA,EAA0B,iCAA1B,EAAkE,8BAAlE,EAAuG,8B,SCcvG,EAVwB,kBACtB,kBAAMA,UAAWC,EAAjB,WACE,gBAAKD,UAAWC,EAAhB,+BAEA,SAAC,KAAD,CAAMD,UAAWC,EAAaC,GAAG,IAAjC,uB,6CCAJ,IANiB,WACf,IAAQC,GAAWC,EAAAA,EAAAA,MAAXD,OAER,OAAOE,EAAAA,EAAAA,UAAQ,kBAAM,IAAIC,gBAAgBH,KAAS,CAACA,M,qJCLrD,EAA0B,iCAA1B,EAA0E,sCAA1E,EAAuH,8B,SCuDvH,EAvCwB,WACtB,IAAMI,GAAaC,EAAAA,EAAAA,UACbC,GAAWC,EAAAA,EAAAA,MACjB,GAAwBC,EAAAA,EAAAA,KAAhBC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,IAGVC,GAFQC,EAAAA,EAAAA,KAEMC,IAAI,SAaxB,OAZIF,IAAOP,EAAWU,QAAUH,IAEhCI,EAAAA,EAAAA,YAAU,WAERT,EAASU,OAAOC,SAASC,SAAU,CAAEC,SAAS,IAGzCf,EAAWU,SAAyC,KAA9BV,EAAWU,QAAQM,QAE9CV,EAAIW,EAAAA,EAAAA,YAA2BjB,EAAWU,YACzC,IAGAV,EAAWU,SACkB,KAA9BV,EAAWU,QAAQM,QACR,aAAXX,EAGa,YAAXA,GAA6B,SAACa,EAAA,EAAD,KAG/B,iBAAMzB,UAAWC,EAAjB,UACE,iBAAKD,UAAWC,EAAhB,wCAC8B,KAC5B,SAAC,KAAD,CAAMC,GAAG,SAASF,UAAWC,EAA7B,yBAPG,SAACyB,EAAA,QAAD","sources":["webpack://jet-fighters-online-2.0/./src/components/PageNonexistent/PageNonexistent.module.scss?dfb8","components/PageNonexistent/PageNonexistent.js","hooks/useQuery.js","webpack://jet-fighters-online-2.0/./src/routes/verify-email/PageVerifyEmail.module.scss?d1ad","routes/verify-email/PageVerifyEmail.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PageNonexistent_wrapper__TAlZn\",\"link\":\"PageNonexistent_link__ojQmY\",\"text\":\"PageNonexistent_text__k-fmD\"};","import { Link } from 'react-router-dom';\r\n\r\n// styles\r\nimport styles from './PageNonexistent.module.scss';\r\n\r\nconst PageNonexistent = () => (\r\n  <main className={styles.wrapper}>\r\n    <div className={styles.text}>404 no page here</div>\r\n\r\n    <Link className={styles.link} to=\"/\">\r\n      home\r\n    </Link>\r\n  </main>\r\n);\r\n\r\nexport default PageNonexistent;\r\n","import { useLocation } from 'react-router-dom';\r\nimport { useMemo } from 'react';\r\n\r\nconst useQuery = () => {\r\n  const { search } = useLocation();\r\n\r\n  return useMemo(() => new URLSearchParams(search), [search]);\r\n};\r\n\r\nexport default useQuery;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PageVerifyEmail_wrapper__0HMzf\",\"wrapperInner\":\"PageVerifyEmail_wrapperInner__n6wDt\",\"link\":\"PageVerifyEmail_link__XxMdg\"};","import { useEffect, useRef } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\n// shared hooks\r\nimport useQuery from '../../hooks/useQuery';\r\nimport useAsync from '../../hooks/useAsync';\r\n\r\n// services\r\nimport accountService from '../../services/account.service';\r\n\r\n// shared components\r\nimport PageNonexistent from '../../components/PageNonexistent/PageNonexistent';\r\nimport Loader from '../../components/Loader/Loader';\r\n\r\n// styles\r\nimport styles from './PageVerifyEmail.module.scss';\r\n\r\nconst PageVerifyEmail = () => {\r\n  const tokenSaved = useRef();\r\n  const navigate = useNavigate();\r\n  const { status, run } = useAsync();\r\n  const query = useQuery();\r\n\r\n  const token = query.get('token');\r\n  if (token) tokenSaved.current = token;\r\n\r\n  useEffect(() => {\r\n    // remove token from url to prevent http referer leakage\r\n    navigate(window.location.pathname, { replace: true });\r\n\r\n    // don't request server on obviously wrong tokens\r\n    if (!tokenSaved.current || tokenSaved.current.length !== 80) return;\r\n\r\n    run(accountService.verifyEmail(tokenSaved.current));\r\n  }, []);\r\n\r\n  if (\r\n    !tokenSaved.current ||\r\n    tokenSaved.current.length !== 80 ||\r\n    status === 'rejected'\r\n  )\r\n    return <PageNonexistent />;\r\n  if (status === 'pending') return <Loader />;\r\n\r\n  return (\r\n    <main className={styles.wrapper}>\r\n      <div className={styles.wrapperInner}>\r\n        Email verified, you can now{' '}\r\n        <Link to=\"/login\" className={styles.link}>\r\n          login\r\n        </Link>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default PageVerifyEmail;\r\n"],"names":["className","styles","to","search","useLocation","useMemo","URLSearchParams","tokenSaved","useRef","navigate","useNavigate","useAsync","status","run","token","useQuery","get","current","useEffect","window","location","pathname","replace","length","accountService","Loader","PageNonexistent"],"sourceRoot":""}