{"version":3,"file":"static/js/210.adb23a75.chunk.js","mappings":"uKACA,MAAsB,uB,SCiBtB,EARkB,SAAC,GAAD,IAAGA,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAb,OAChB,mBAAQD,SAAUA,EAAUE,KAAK,SAASC,UAAWC,EAArD,SACGH,M,qDCXL,MAAuB,uB,SCiBvB,EARiB,SAAC,GAAD,IAAGI,EAAH,EAAGA,SAAUJ,EAAb,EAAaA,SAAb,OACf,iBAAMI,SAAUA,EAAUF,UAAWC,EAArC,SACGH,M,qDCXL,OAAgB,QAAU,2BAA2B,MAAQ,yBAAyB,aAAe,gCAAgC,UAAY,8B,SC4CjJ,EA9BkB,SAAC,GAAD,IAChBK,EADgB,EAChBA,GACAJ,EAFgB,EAEhBA,KACAK,EAHgB,EAGhBA,MACAC,EAJgB,EAIhBA,UACAC,EALgB,EAKhBA,QACAC,EANgB,EAMhBA,KACAC,EAPgB,EAOhBA,aAPgB,OAShB,iBAAKR,UAAWC,EAAAA,QAAhB,WACE,kBAAOD,UAAWC,EAAAA,MAAcQ,QAASN,EAAzC,SACGC,KAEH,iBAAKJ,UAAWC,EAAAA,aAAhB,WACE,kBACES,UAAQ,EACRJ,QAASA,EACTN,UAAWC,EAAAA,MACXE,GAAIA,EACJJ,KAAMA,EACNQ,KAAMA,EACNI,aAAcH,KAEhB,cAAGR,UAAWC,EAAAA,UAAd,SAAiCI,Y,6CC7BvC,IANiB,WACf,IAAQO,GAAWC,EAAAA,EAAAA,MAAXD,OAER,OAAOE,EAAAA,EAAAA,UAAQ,kBAAM,IAAIC,gBAAgBH,KAAS,CAACA,M,sJCLrD,EAA0B,mCAA1B,EAAuE,mC,SC0EvE,EAzD0B,WACxB,IAAMI,GAAaC,EAAAA,EAAAA,QAAO,MACpBC,GAAQC,EAAAA,EAAAA,KACRC,GAAWC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,KAARD,KAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQP,EAAMQ,IAAI,SAMxB,GAHAN,EAASO,OAAOC,SAASC,SAAU,CAAEC,SAAS,KAGzCL,GAA0B,KAAjBA,EAAMM,OAAe,OAAO,KAE1Cf,EAAWgB,QAAUP,IACpB,IAgBH,OACE,kBAAMzB,UAAWC,EAAjB,WACE,eAAID,UAAWC,EAAf,oBACA,UAACgC,EAAA,EAAD,CAAU/B,SAjBO,SAACgC,GACpBA,EAAMC,iBAEN,IAAMC,EAAe,IAAIC,SAASH,EAAMI,QAExChB,EACEiB,EAAAA,EAAAA,cAA6B,CAC3BC,SAAUJ,EAAaV,IAAI,YAC3Be,gBAAiBL,EAAaV,IAAI,mBAClCD,MAAOT,EAAWgB,YAQpB,WACE,SAACU,EAAA,EAAD,CACEvC,GAAG,WACHC,MAAM,WACNL,KAAK,WACLM,UAAU,oBACVC,QAAQ,YACRC,KAAK,cAEP,SAACmC,EAAA,EAAD,CACEvC,GAAG,mBACHC,MAAM,uBACNL,KAAK,WACLO,QAAQ,YACRC,KAAK,qBAEP,SAACoC,EAAA,EAAD","sources":["webpack://jet-fighters-online-2.0/./src/components/BtnSubmit/BtnSubmit.module.scss?cd36","components/BtnSubmit/BtnSubmit.js","webpack://jet-fighters-online-2.0/./src/components/FormAuth/FormAuth.module.scss?7b28","components/FormAuth/FormAuth.js","webpack://jet-fighters-online-2.0/./src/components/InputAuth/InputAuth.module.scss?c27a","components/InputAuth/InputAuth.js","hooks/useQuery.js","webpack://jet-fighters-online-2.0/./src/routes/reset-password/PageResetPassword.module.scss?70cf","routes/reset-password/PageResetPassword.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"BtnSubmit_btn__2PgWn\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './BtnSubmit.module.scss';\r\n\r\nconst propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nconst BtnSubmit = ({ disabled, children }) => (\r\n  <button disabled={disabled} type=\"submit\" className={styles.btn}>\r\n    {children}\r\n  </button>\r\n);\r\n\r\nBtnSubmit.propTypes = propTypes;\r\n\r\nexport default BtnSubmit;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"FormAuth_form__i56jP\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './FormAuth.module.scss';\r\n\r\nconst propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nconst FormAuth = ({ onSubmit, children }) => (\r\n  <form onSubmit={onSubmit} className={styles.form}>\r\n    {children}\r\n  </form>\r\n);\r\n\r\nFormAuth.propTypes = propTypes;\r\n\r\nexport default FormAuth;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"InputAuth_wrapper__FmqAX\",\"input\":\"InputAuth_input__IQuwe\",\"wrapperInner\":\"InputAuth_wrapperInner__33pRr\",\"undertext\":\"InputAuth_undertext__hqxPV\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './InputAuth.module.scss';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  pattern: PropTypes.string,\r\n  undertext: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  autocomplete: PropTypes.string,\r\n};\r\n\r\nconst InputAuth = ({\r\n  id,\r\n  type,\r\n  label,\r\n  undertext,\r\n  pattern,\r\n  name,\r\n  autocomplete,\r\n}) => (\r\n  <div className={styles.wrapper}>\r\n    <label className={styles.label} htmlFor={id}>\r\n      {label}\r\n    </label>\r\n    <div className={styles.wrapperInner}>\r\n      <input\r\n        required\r\n        pattern={pattern}\r\n        className={styles.input}\r\n        id={id}\r\n        type={type}\r\n        name={name}\r\n        autoComplete={autocomplete}\r\n      />\r\n      <p className={styles.undertext}>{undertext}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nInputAuth.propTypes = propTypes;\r\n\r\nexport default InputAuth;\r\n","import { useLocation } from 'react-router-dom';\r\nimport { useMemo } from 'react';\r\n\r\nconst useQuery = () => {\r\n  const { search } = useLocation();\r\n\r\n  return useMemo(() => new URLSearchParams(search), [search]);\r\n};\r\n\r\nexport default useQuery;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PageResetPassword_wrapper__zuu2h\",\"heading\":\"PageResetPassword_heading__wed9k\",\"wrapperLinks\":\"PageResetPassword_wrapperLinks__-ITlU\",\"link\":\"PageResetPassword_link__wLVea\"};","import { useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// shared hooks\r\nimport useQuery from '../../hooks/useQuery';\r\nimport useAsync from '../../hooks/useAsync';\r\n\r\n// services\r\nimport accountService from '../../services/account.service';\r\n\r\n// shared components\r\nimport FormAuth from '../../components/FormAuth/FormAuth';\r\nimport InputAuth from '../../components/InputAuth/InputAuth';\r\nimport BtnSubmit from '../../components/BtnSubmit/BtnSubmit';\r\n\r\n// styles\r\nimport styles from './PageResetPassword.module.scss';\r\n\r\nconst PageResetPassword = () => {\r\n  const tokenSaved = useRef(null);\r\n  const query = useQuery();\r\n  const navigate = useNavigate();\r\n  const { run } = useAsync();\r\n\r\n  useEffect(() => {\r\n    const token = query.get('token');\r\n\r\n    // remove token from url to prevent http referer leakage\r\n    navigate(window.location.pathname, { replace: true });\r\n\r\n    // don't request server on obviously wrong tokens\r\n    if (!token || token.length !== 80) return null;\r\n\r\n    tokenSaved.current = token;\r\n  }, []);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const dataFromForm = new FormData(event.target);\r\n\r\n    run(\r\n      accountService.resetPassword({\r\n        password: dataFromForm.get('password'),\r\n        passwordConfirm: dataFromForm.get('passwordConfirm'),\r\n        token: tokenSaved.current,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <main className={styles.wrapper}>\r\n      <h1 className={styles.heading}>Reset</h1>\r\n      <FormAuth onSubmit={handleSubmit}>\r\n        <InputAuth\r\n          id=\"password\"\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          undertext=\"* 8-25 characters\"\r\n          pattern=\"^.{8,25}$\"\r\n          name=\"password\"\r\n        />\r\n        <InputAuth\r\n          id=\"password-confirm\"\r\n          label=\"Confirm the password\"\r\n          type=\"password\"\r\n          pattern=\"^.{8,25}$\"\r\n          name=\"passwordConfirm\"\r\n        />\r\n        <BtnSubmit>Reset password</BtnSubmit>\r\n      </FormAuth>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default PageResetPassword;\r\n"],"names":["disabled","children","type","className","styles","onSubmit","id","label","undertext","pattern","name","autocomplete","htmlFor","required","autoComplete","search","useLocation","useMemo","URLSearchParams","tokenSaved","useRef","query","useQuery","navigate","useNavigate","run","useAsync","useEffect","token","get","window","location","pathname","replace","length","current","FormAuth","event","preventDefault","dataFromForm","FormData","target","accountService","password","passwordConfirm","InputAuth","BtnSubmit"],"sourceRoot":""}