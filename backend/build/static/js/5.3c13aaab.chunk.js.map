{"version":3,"file":"static/js/5.3c13aaab.chunk.js","mappings":"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","sources":["webpack://jet-fighters-online-2.0/./src/components/BtnSubmit.module.scss?d094","components/BtnSubmit.js","webpack://jet-fighters-online-2.0/./src/components/FormAuth.module.scss?0c84","components/FormAuth.js","webpack://jet-fighters-online-2.0/./src/components/InputAuth.module.scss?e3b0","components/InputAuth.js","webpack://jet-fighters-online-2.0/./src/components/Jet.module.scss?2fea","components/Jet.js","webpack://jet-fighters-online-2.0/./src/components/PageNonexistent.module.scss?4a1d","components/PageNonexistent.js","hooks/useSafeDispatch.js","hooks/useAsync.js","webpack://jet-fighters-online-2.0/./src/routes/login/PageLogin.module.scss?b41f","routes/login/PageLogin.js","webpack://jet-fighters-online-2.0/./src/routes/profile/components/JetFav.module.scss?0f61","routes/profile/components/JetFav.js","webpack://jet-fighters-online-2.0/./src/routes/profile/PageProfile.module.scss?760c","routes/profile/PageProfile.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"BtnSubmit_btn__DwWgI\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './BtnSubmit.module.scss';\r\n\r\nconst propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nconst BtnSubmit = ({ disabled, children }) => (\r\n  <button disabled={disabled} type=\"submit\" className={styles.btn}>\r\n    {children}\r\n  </button>\r\n);\r\n\r\nBtnSubmit.propTypes = propTypes;\r\n\r\nexport default BtnSubmit;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"FormAuth_form__9jVKL\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './FormAuth.module.scss';\r\n\r\nconst propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nconst FormAuth = ({ onSubmit, children }) => (\r\n  <form onSubmit={onSubmit} className={styles.form}>\r\n    {children}\r\n  </form>\r\n);\r\n\r\nFormAuth.propTypes = propTypes;\r\n\r\nexport default FormAuth;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"InputAuth_wrapper__mggdz\",\"input\":\"InputAuth_input__SPVYc\",\"wrapperInner\":\"InputAuth_wrapperInner__ghQHC\",\"undertext\":\"InputAuth_undertext__-F9on\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './InputAuth.module.scss';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  pattern: PropTypes.string,\r\n  undertext: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nconst InputAuth = ({ id, type, label, undertext, pattern, name }) => (\r\n  <div className={styles.wrapper}>\r\n    <label className={styles.label} htmlFor={id}>\r\n      {label}\r\n    </label>\r\n    <div className={styles.wrapperInner}>\r\n      <input\r\n        required\r\n        pattern={pattern}\r\n        className={styles.input}\r\n        id={id}\r\n        type={type}\r\n        name={name}\r\n      />\r\n      <p className={styles.undertext}>{undertext}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nInputAuth.propTypes = propTypes;\r\n\r\nexport default InputAuth;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"jet\":\"Jet_jet__0FqRm\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './Jet.module.scss';\r\n\r\nconst propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  imgJet: PropTypes.string.isRequired,\r\n};\r\n\r\nconst Jet = ({ onClick, imgJet }) => (\r\n  <button onClick={onClick} className={styles.jet} type=\"button\">\r\n    <img src={imgJet} alt=\"jet\" />\r\n  </button>\r\n);\r\n\r\nJet.propTypes = propTypes;\r\n\r\nexport default Jet;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PageNonexistent_wrapper__C-izW\",\"link\":\"PageNonexistent_link__hq7XP\"};","import { Link } from 'react-router-dom';\r\n\r\n// styles\r\nimport styles from './PageNonexistent.module.scss';\r\n\r\nconst PageNonexistent = () => (\r\n  <main className={styles.wrapper}>\r\n    <div>404 no page here</div>\r\n\r\n    <Link className={styles.link} to=\"/\">\r\n      home\r\n    </Link>\r\n  </main>\r\n);\r\n\r\nexport default PageNonexistent;\r\n","/* eslint-disable no-void */\r\nimport { useRef, useLayoutEffect, useCallback } from 'react';\r\n\r\n/**\r\n * Returns the passed function as a safe variant which doesn't run\r\n * if the component is unmounted.\r\n *\r\n * @param {function} dispatch the function to make safe.\r\n *\r\n * @returns {function} - the safe variant of the passed function.\r\n */\r\nconst useSafeDispatch = (dispatch) => {\r\n  const mounted = useRef(false);\r\n\r\n  useLayoutEffect(() => {\r\n    mounted.current = true;\r\n    return () => {\r\n      mounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  return useCallback(\r\n    (...args) => (mounted.current ? dispatch(...args) : void 0),\r\n    [dispatch]\r\n  );\r\n};\r\n\r\nexport default useSafeDispatch;\r\n","/* eslint-disable no-shadow */\r\nimport { useCallback, useReducer } from 'react';\r\nimport useSafeDispatch from './useSafeDispatch';\r\n\r\nconst asyncReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'pending': {\r\n      return { status: 'pending', data: null, error: null };\r\n    }\r\n    case 'resolved': {\r\n      return { status: 'resolved', data: action.data, error: null };\r\n    }\r\n    case 'rejected': {\r\n      return { status: 'rejected', data: null, error: action.error };\r\n    }\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Monitors an async promise. Pass your promise to the 'run'\r\n * returned function.\r\n *\r\n * @param {{status, data}} initialState object with initial status and data.\r\n *\r\n * @returns {object} {setData, setError, error, status, data, run}.\r\n * @returns status can be 'idle', 'pending', 'resolved', 'rejected'.\r\n */\r\nconst useAsync = (initialState) => {\r\n  const [state, unsafeDispatch] = useReducer(asyncReducer, {\r\n    status: 'idle',\r\n    data: null,\r\n    error: null,\r\n    ...initialState,\r\n  });\r\n\r\n  const dispatch = useSafeDispatch(unsafeDispatch);\r\n\r\n  const { data, error, status } = state;\r\n\r\n  const run = useCallback(\r\n    (promise) => {\r\n      dispatch({ type: 'pending' });\r\n      promise.then(\r\n        (receivedData) => {\r\n          dispatch({ type: 'resolved', data: receivedData });\r\n        },\r\n        (error) => {\r\n          dispatch({ type: 'rejected', error });\r\n        }\r\n      );\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const setData = useCallback(\r\n    (data) => dispatch({ type: 'resolved', data }),\r\n    [dispatch]\r\n  );\r\n  const setError = useCallback(\r\n    (error) => dispatch({ type: 'rejected', error }),\r\n    [dispatch]\r\n  );\r\n\r\n  return {\r\n    setData,\r\n    setError,\r\n    error,\r\n    status,\r\n    data,\r\n    run,\r\n  };\r\n};\r\n\r\nexport default useAsync;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PageLogin_wrapper__l2ytW\",\"heading\":\"PageLogin_heading__ApWj0\",\"wrapperLinks\":\"PageLogin_wrapperLinks__ddwqB\",\"link\":\"PageLogin_link__hdSqy\"};","import { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// shared hooks\r\nimport { useContextAuth } from '../../providers/ProviderAuth';\r\n\r\n// shared components\r\nimport FormAuth from '../../components/FormAuth';\r\nimport InputAuth from '../../components/InputAuth';\r\nimport BtnSubmit from '../../components/BtnSubmit';\r\nimport Loader from '../../components/Loader';\r\n\r\n// styles\r\nimport styles from './PageLogin.module.scss';\r\nimport PageProfile from '../profile/PageProfile';\r\nimport { useContextGlobal } from '../../providers/ProviderGlobal';\r\n\r\nconst PageLogin = () => {\r\n  const { account, login, loading, error } = useContextAuth();\r\n  const [, setGlobal] = useContextGlobal();\r\n\r\n  useEffect(() => {\r\n    if (error)\r\n      setGlobal((prev) => ({\r\n        ...prev,\r\n        msgPopup: error?.response.data.message,\r\n      }));\r\n  }, [error]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const dataFromForm = new FormData(event.target);\r\n    const credentials = {\r\n      email: dataFromForm.get('email'),\r\n      password: dataFromForm.get('password'),\r\n    };\r\n\r\n    login(credentials);\r\n  };\r\n\r\n  if (loading) return <Loader />;\r\n  if (account) return <PageProfile />;\r\n\r\n  return (\r\n    <main className={styles.wrapper}>\r\n      <h1 className={styles.heading}>Login</h1>\r\n\r\n      <FormAuth onSubmit={handleSubmit}>\r\n        <InputAuth id=\"email\" label=\"Email\" type=\"email\" name=\"email\" />\r\n        <InputAuth\r\n          id=\"password\"\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          undertext=\"* 8-25 characters\"\r\n          pattern=\"^.{8,25}$\"\r\n          name=\"password\"\r\n        />\r\n        <div className={styles.wrapperLinks}>\r\n          <Link to=\"/register\" className={styles.link}>\r\n            Register\r\n          </Link>\r\n          <Link to=\"/forgot-password\" className={styles.link}>\r\n            Forgot password\r\n          </Link>\r\n        </div>\r\n        <BtnSubmit>Login</BtnSubmit>\r\n      </FormAuth>\r\n    </main>\r\n  );\r\n};\r\nexport default PageLogin;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"JetFav_wrapper__fBSqU\",\"wrapperJet\":\"JetFav_wrapperJet__KtaeC\",\"wrapperTypeJet\":\"JetFav_wrapperTypeJet__45dw7\",\"games\":\"JetFav_games__+fRj-\",\"stats\":\"JetFav_stats__Jcbgb\",\"wins\":\"JetFav_wins__ruoI8\",\"loses\":\"JetFav_loses__Fi0ls\"};","import PropTypes from 'prop-types';\r\n\r\n// config\r\nimport { typesJet } from '../../../config/typesJet';\r\n\r\n// shared components\r\nimport Jet from '../../../components/Jet';\r\n\r\n// styles\r\nimport styles from './JetFav.module.scss';\r\n\r\nconst propTypes = {\r\n  typeJet: PropTypes.string.isRequired,\r\n  wins: PropTypes.number.isRequired,\r\n  loses: PropTypes.number.isRequired,\r\n  draws: PropTypes.number.isRequired,\r\n};\r\n\r\nconst JetFav = ({ typeJet, wins, loses, draws }) => {\r\n  const total = wins + loses + draws;\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.wrapperJet}>\r\n        <Jet onClick={() => {}} imgJet={typesJet[typeJet].imgJet} />\r\n        <div className={styles.wrapperTypeJet}>\r\n          <p>{capitalize(typeJet)}</p>\r\n          <p className={styles.games}>{total} games</p>\r\n        </div>\r\n      </div>\r\n      <div className={styles.stats}>\r\n        <p className={styles.wins}>{wins}W</p>\r\n        <p className={styles.loses}>{loses}L</p>\r\n        <p className={styles.draws}>{draws}D</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst capitalize = (string) => string.charAt(0).toUpperCase() + string.slice(1);\r\n\r\nJetFav.propTypes = propTypes;\r\n\r\nexport default JetFav;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PageProfile_wrapper__7aR4d\",\"card\":\"PageProfile_card__4kIRb\",\"wrapperJet\":\"PageProfile_wrapperJet__sBsft\",\"backgroundHalf\":\"PageProfile_backgroundHalf__Ma9dN\",\"jet\":\"PageProfile_jet__lAbeZ\",\"img\":\"PageProfile_img__5HURZ\",\"rotate\":\"PageProfile_rotate__7HaLa\",\"wrapperName\":\"PageProfile_wrapperName__r9rWk\",\"name\":\"PageProfile_name__rHy3b\",\"email\":\"PageProfile_email__d3-Ja\",\"btnLogout\":\"PageProfile_btnLogout__9KF55\",\"stats\":\"PageProfile_stats__85cp1\",\"wrapperWins\":\"PageProfile_wrapperWins__bWGwE\",\"wrapperLoses\":\"PageProfile_wrapperLoses__DROGV\",\"wrapperDraws\":\"PageProfile_wrapperDraws__AFbEd\",\"wrapperMostPlayed\":\"PageProfile_wrapperMostPlayed__oDmCD\",\"heading\":\"PageProfile_heading__5FDf2\"};","import { useLayoutEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// shared hooks\r\nimport { useContextAuth } from '../../providers/ProviderAuth';\r\nimport useAsync from '../../hooks/useAsync';\r\n\r\n// services\r\nimport accountService from '../../services/account.service';\r\n\r\n// shared components\r\nimport PageNonexistent from '../../components/PageNonexistent';\r\nimport Loader from '../../components/Loader';\r\n\r\n// local components\r\nimport JetFav from './components/JetFav';\r\n\r\n// styles\r\nimport styles from './PageProfile.module.scss';\r\n\r\n// assets\r\nimport { typesJet } from '../../config/typesJet';\r\n\r\nconst PageProfile = () => {\r\n  console.log('I RENDERED');\r\n  const navigate = useNavigate();\r\n  const { status, data: dataReceived, run } = useAsync();\r\n  const { account, logout, loading } = useContextAuth();\r\n\r\n  useLayoutEffect(() => {\r\n    // don't make request if no account\r\n    if (!account) return;\r\n    run(accountService.getById(account.id));\r\n  }, [account]);\r\n\r\n  const handleClick = () => {\r\n    navigate('/');\r\n    logout();\r\n  };\r\n\r\n  if (loading) return <Loader />;\r\n  if (status === 'pending' || status === 'idle') return <Loader />;\r\n  if (!account) return <PageNonexistent />;\r\n\r\n  const jetsSorted = sortJetsByGames(dataReceived.stats).slice(1, 4);\r\n\r\n  return (\r\n    <main className={styles.wrapper}>\r\n      <div className={styles.card}>\r\n        <div className={styles.wrapperJet}>\r\n          <div className={styles.backgroundHalf} />\r\n          <div className={styles.jet}>\r\n            <img\r\n              className={styles.img}\r\n              src={typesJet[jetsSorted[0][0]].imgJet}\r\n              alt=\"jet\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <section className={styles.wrapperName}>\r\n          <h1 className={styles.name}>{dataReceived.userName}</h1>\r\n          <p className={styles.email}>{dataReceived.email}</p>\r\n          <p>{getFormattedTime(dataReceived.created)}</p>\r\n          <button\r\n            className={styles.btnLogout}\r\n            onClick={handleClick}\r\n            type=\"button\"\r\n          >\r\n            Log out\r\n          </button>\r\n        </section>\r\n\r\n        <section className={styles.stats}>\r\n          <div className={styles.wrapperWins}>\r\n            <p>Wins</p>\r\n            <p>{dataReceived.stats.total.wins}</p>\r\n          </div>\r\n          <div className={styles.wrapperLoses}>\r\n            <p>Loses</p>\r\n            <p>{dataReceived.stats.total.loses}</p>\r\n          </div>\r\n          <div className={styles.wrapperDraws}>\r\n            <p>Draws</p>\r\n            <p>{dataReceived.stats.total.draws}</p>\r\n          </div>\r\n        </section>\r\n\r\n        <section className={styles.wrapperMostPlayed}>\r\n          <h2 className={styles.heading}>Most played jets</h2>\r\n          {jetsSorted.map((jet, idx) => (\r\n            <JetFav\r\n              key={idx}\r\n              typeJet={jet[0]}\r\n              wins={jet[1].wins}\r\n              loses={jet[1].loses}\r\n              draws={jet[1].draws}\r\n            />\r\n          ))}\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nconst sortJetsByGames = (jets) =>\r\n  Object.entries(jets).sort(\r\n    (x, y) =>\r\n      y[1].wins +\r\n      y[1].loses +\r\n      y[1].draws -\r\n      (x[1].wins + x[1].loses + x[1].draws)\r\n  );\r\n\r\nconst monthNames = [\r\n  'Jan',\r\n  'Feb',\r\n  'Mar',\r\n  'Apr',\r\n  'May',\r\n  'Jun',\r\n  'Jul',\r\n  'Aug',\r\n  'Sep',\r\n  'Oct',\r\n  'Nov',\r\n  'Dec',\r\n];\r\n\r\nconst getFormattedTime = (time) => {\r\n  const date = new Date(time);\r\n  const text =\r\n    `Joined ${date.getUTCDate()} ` +\r\n    `${monthNames[date.getUTCMonth()]} ${date.getUTCFullYear()}`;\r\n\r\n  return text;\r\n};\r\n\r\nexport default PageProfile;\r\n"],"names":["disabled","children","type","className","styles","onSubmit","id","label","undertext","pattern","name","htmlFor","required","onClick","imgJet","src","alt","to","dispatch","mounted","useRef","useLayoutEffect","current","useCallback","asyncReducer","state","action","status","data","error","Error","initialState","useReducer","unsafeDispatch","useSafeDispatch","run","promise","then","receivedData","setData","setError","useContextAuth","account","login","loading","useContextGlobal","setGlobal","useEffect","prev","msgPopup","response","message","Loader","PageProfile","FormAuth","event","preventDefault","dataFromForm","FormData","target","credentials","email","get","password","InputAuth","BtnSubmit","capitalize","string","charAt","toUpperCase","slice","typeJet","wins","loses","draws","total","Jet","typesJet","sortJetsByGames","jets","Object","entries","sort","x","y","monthNames","getFormattedTime","time","date","Date","getUTCDate","getUTCMonth","getUTCFullYear","console","log","navigate","useNavigate","useAsync","dataReceived","logout","accountService","PageNonexistent","jetsSorted","stats","userName","created","map","jet","idx"],"sourceRoot":""}