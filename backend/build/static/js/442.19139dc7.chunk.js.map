{"version":3,"file":"static/js/442.19139dc7.chunk.js","mappings":"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","sources":["webpack://jet-fighters-online-2.0/./src/components/BtnSubmit.module.scss?d094","components/BtnSubmit.js","webpack://jet-fighters-online-2.0/./src/components/FormAuth.module.scss?0c84","components/FormAuth.js","webpack://jet-fighters-online-2.0/./src/components/InputAuth.module.scss?e3b0","components/InputAuth.js","hooks/useSafeDispatch.js","hooks/useAsync.js","webpack://jet-fighters-online-2.0/./src/routes/forgot-password/PageForgotPassword.module.scss?a538","routes/forgot-password/PageForgotPassword.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"BtnSubmit_btn__DwWgI\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './BtnSubmit.module.scss';\r\n\r\nconst propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nconst BtnSubmit = ({ disabled, children }) => (\r\n  <button disabled={disabled} type=\"submit\" className={styles.btn}>\r\n    {children}\r\n  </button>\r\n);\r\n\r\nBtnSubmit.propTypes = propTypes;\r\n\r\nexport default BtnSubmit;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"FormAuth_form__9jVKL\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './FormAuth.module.scss';\r\n\r\nconst propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nconst FormAuth = ({ onSubmit, children }) => (\r\n  <form onSubmit={onSubmit} className={styles.form}>\r\n    {children}\r\n  </form>\r\n);\r\n\r\nFormAuth.propTypes = propTypes;\r\n\r\nexport default FormAuth;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"InputAuth_wrapper__mggdz\",\"input\":\"InputAuth_input__SPVYc\",\"wrapperInner\":\"InputAuth_wrapperInner__ghQHC\",\"undertext\":\"InputAuth_undertext__-F9on\"};","import PropTypes from 'prop-types';\r\n\r\n// styles\r\nimport styles from './InputAuth.module.scss';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  pattern: PropTypes.string,\r\n  undertext: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nconst InputAuth = ({ id, type, label, undertext, pattern, name }) => (\r\n  <div className={styles.wrapper}>\r\n    <label className={styles.label} htmlFor={id}>\r\n      {label}\r\n    </label>\r\n    <div className={styles.wrapperInner}>\r\n      <input\r\n        required\r\n        pattern={pattern}\r\n        className={styles.input}\r\n        id={id}\r\n        type={type}\r\n        name={name}\r\n      />\r\n      <p className={styles.undertext}>{undertext}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nInputAuth.propTypes = propTypes;\r\n\r\nexport default InputAuth;\r\n","/* eslint-disable no-void */\r\nimport { useRef, useLayoutEffect, useCallback } from 'react';\r\n\r\n/**\r\n * Returns the passed function as a safe variant which doesn't run\r\n * if the component is unmounted.\r\n *\r\n * @param {function} dispatch the function to make safe.\r\n *\r\n * @returns {function} - the safe variant of the passed function.\r\n */\r\nconst useSafeDispatch = (dispatch) => {\r\n  const mounted = useRef(false);\r\n\r\n  useLayoutEffect(() => {\r\n    mounted.current = true;\r\n    return () => {\r\n      mounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  return useCallback(\r\n    (...args) => (mounted.current ? dispatch(...args) : void 0),\r\n    [dispatch]\r\n  );\r\n};\r\n\r\nexport default useSafeDispatch;\r\n","/* eslint-disable no-shadow */\r\nimport { useCallback, useReducer } from 'react';\r\nimport useSafeDispatch from './useSafeDispatch';\r\n\r\nconst asyncReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'pending': {\r\n      return { status: 'pending', data: null, error: null };\r\n    }\r\n    case 'resolved': {\r\n      return { status: 'resolved', data: action.data, error: null };\r\n    }\r\n    case 'rejected': {\r\n      return { status: 'rejected', data: null, error: action.error };\r\n    }\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Monitors an async promise. Pass your promise to the 'run'\r\n * returned function.\r\n *\r\n * @param {{status, data}} initialState object with initial status and data.\r\n *\r\n * @returns {object} {setData, setError, error, status, data, run}.\r\n * @returns status can be 'idle', 'pending', 'resolved', 'rejected'.\r\n */\r\nconst useAsync = (initialState) => {\r\n  const [state, unsafeDispatch] = useReducer(asyncReducer, {\r\n    status: 'idle',\r\n    data: null,\r\n    error: null,\r\n    ...initialState,\r\n  });\r\n\r\n  const dispatch = useSafeDispatch(unsafeDispatch);\r\n\r\n  const { data, error, status } = state;\r\n\r\n  const run = useCallback(\r\n    (promise) => {\r\n      dispatch({ type: 'pending' });\r\n      promise.then(\r\n        (receivedData) => {\r\n          dispatch({ type: 'resolved', data: receivedData });\r\n        },\r\n        (error) => {\r\n          dispatch({ type: 'rejected', error });\r\n        }\r\n      );\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const setData = useCallback(\r\n    (data) => dispatch({ type: 'resolved', data }),\r\n    [dispatch]\r\n  );\r\n  const setError = useCallback(\r\n    (error) => dispatch({ type: 'rejected', error }),\r\n    [dispatch]\r\n  );\r\n\r\n  return {\r\n    setData,\r\n    setError,\r\n    error,\r\n    status,\r\n    data,\r\n    run,\r\n  };\r\n};\r\n\r\nexport default useAsync;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PageForgotPassword_wrapper__ngSaW\",\"heading\":\"PageForgotPassword_heading__QiwKV\",\"wrapperLinks\":\"PageForgotPassword_wrapperLinks__sCWjb\",\"link\":\"PageForgotPassword_link__HuYmt\",\"wrapperMsg\":\"PageForgotPassword_wrapperMsg__NtsJq\"};","import { Link } from 'react-router-dom';\r\n\r\n// shared hooks\r\nimport useAsync from '../../hooks/useAsync';\r\n\r\n// services\r\nimport accountService from '../../services/account.service';\r\n\r\n// shared components\r\nimport FormAuth from '../../components/FormAuth';\r\nimport InputAuth from '../../components/InputAuth';\r\nimport BtnSubmit from '../../components/BtnSubmit';\r\n\r\n// styles\r\nimport styles from './PageForgotPassword.module.scss';\r\n\r\nconst PageForgotPassword = () => {\r\n  const {\r\n    data: receivedData,\r\n    error,\r\n    status,\r\n    run,\r\n  } = useAsync({\r\n    status: 'idle',\r\n  });\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const dataFromForm = new FormData(event.target);\r\n\r\n    run(accountService.forgotPassword(dataFromForm.get('email')));\r\n  };\r\n\r\n  if (receivedData)\r\n    return (\r\n      <main className={styles.wrapperMsg}>\r\n        An email with instructions has been sent.\r\n        <br /> <br /> In case there's no email, check your spam section as well.\r\n      </main>\r\n    );\r\n\r\n  return (\r\n    <main className={styles.wrapper}>\r\n      <h1 className={styles.heading}>Recovery</h1>\r\n\r\n      <FormAuth onSubmit={handleSubmit}>\r\n        <InputAuth id=\"email\" label=\"Email\" type=\"email\" name=\"email\" />\r\n        <div className={styles.wrapperLinks}>\r\n          <Link to=\"/login\" className={styles.link}>\r\n            Login\r\n          </Link>\r\n          <Link to=\"/register\" className={styles.link}>\r\n            Register\r\n          </Link>\r\n        </div>\r\n        <BtnSubmit disabled={status === 'pending'}>Recover</BtnSubmit>\r\n      </FormAuth>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default PageForgotPassword;\r\n"],"names":["disabled","children","type","className","styles","onSubmit","id","label","undertext","pattern","name","htmlFor","required","dispatch","mounted","useRef","useLayoutEffect","current","useCallback","asyncReducer","state","action","status","data","error","Error","initialState","useReducer","unsafeDispatch","useSafeDispatch","run","promise","then","receivedData","setData","setError","useAsync","FormAuth","event","preventDefault","dataFromForm","FormData","target","accountService","get","InputAuth","to","BtnSubmit"],"sourceRoot":""}